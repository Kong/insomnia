image: Visual Studio 2015

build: off
deploy: off

#---------------------------------#
#    environment configuration    #
#---------------------------------#

shallow_clone: true
platform: x64
environment:
  nodejs_version: "6.5.0"

# Things to install after repo clone
install:
  - ps: Install-Product node $env:nodejs_version $env:Platform
  - npm install -g npm@latest > NUL
  - npm install > NUL
#  - npm install -g yarn@latest > Nul

cache:
  - '%APPDATA%\npm-cache -> .cache.txt'
  - '%USERPROFILE%\.electron -> .cache.txt'
  - 'node_modules -> .cache.txt'
#  - '%LOCALAPPDATA%\Yarn -> .cache.txt'

#---------------------------------#
#       tests configuration       #
#---------------------------------#

test_script:
  - node --version
  - npm --version
  - npm test

#---------------------------------#
#     deployment configuration    #
#---------------------------------#

#deploy:
#  - provider: S3
#    access_key_id:
#      secure: ABcd==
#    secret_access_key:
#      secure: ABcd==
#    bucket: my_bucket
#    folder:
#    artifact:
#    set_public: false

#---------------------------------#
#         global handlers         #
#---------------------------------#

#on_success:
#  - npm run build-n-package:win
#  - ps: ls .\dist\win\* | % { Push-AppveyorArtifact $_.FullName }
