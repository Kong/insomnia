image: Visual Studio 2015
shallow_clone: true

environment:
  nodejs_version: "6.5.0"

platform: x64

install:
  - ps: Install-Product node $env:nodejs_version $env:Platform
  - npm install

cache:
  - '%APPDATA%\npm-cache'
  - '%USERPROFILE%\.electron'

test_script:
  - node --version
  - npm --version
  - npm run test

on_success:
  - npm run build-n-package:win
  - ps: ls .\dist\win\*.exe | % { Push-AppveyorArtifact $_.FullName }

build: off
deploy: off
